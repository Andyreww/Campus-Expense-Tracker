<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="logo.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO and Performance Meta Tags -->
    <meta name="description" content="Manage your campus dining balance with style. Track meals, monitor funds, and stay on top of your college dining budget.">
    <meta name="theme-color" content="#4CAF50">
    
    <title>Nooksii - Your Campus Balance, Served With Style</title>
    
    <!-- CRITICAL: DNS Prefetch and Preconnect (BEFORE other resources) -->
    <link rel="dns-prefetch" href="https://www.gstatic.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    
    <!-- Critical inline CSS to prevent CLS -->
    <style>
        /* Prevent layout shift for hero section */
        .hero-signboard {
            min-height: 400px;
            width: 100%;
            contain: layout;
        }
        
        .hero-headline {
            font-size: clamp(2rem, 5vw, 3.5rem);
            line-height: 1.2;
        }
        
        /* Hide elements that cause flashing */
        .fade-in-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
            will-change: transform, opacity; /* encourage compositing */
        }

        /* Defer rendering of below-the-fold content on initial paint */
        .features-section,
        .how-it-works-section,
        .faq-section,
        .wall-of-fame-section {
            content-visibility: auto;
            contain-intrinsic-size: 1000px auto; /* Reserve space to avoid layout shifts */
        }
        
        /* Loading states */
        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.6s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Respect reduced motion and reduce animation cost */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
        
    /* Reserve space to reduce CLS for media blocks */
    .hero-section { min-height: 520px; }
    .step-visual { aspect-ratio: 16 / 9; position: relative; }
    .step-visual > video { width: 100%; height: 100%; object-fit: cover; display: block; }
    </style>
    
    <!-- Non-blocking main stylesheet load with noscript fallback -->
    <link rel="preload" href="style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="style.css"></noscript>
    
    <!-- Note: Avoid preloading specific Google font files to prevent mismatch warnings -->
    
        <!-- Google Fonts loaded non-blocking to avoid render-blocking CSS -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Lato:wght@400;700&family=Nunito:wght@700;900&family=Special+Elite&family=Patrick+Hand&display=swap" onload="this.onload=null;this.rel='stylesheet'">
        <noscript>
            <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Lato:wght@400;700&family=Nunito:wght@700;900&family=Special+Elite&family=Patrick+Hand&display=swap">
        </noscript>
    
    <!-- Three.js will be lazy loaded when needed, not here -->
</head>
<body>

    <!-- Header -->
    <header id="main-header">
        <div class="container">
            <a href="#" class="logo-link">
                <h1 class="logo-text">
                    <svg class="logo-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.92,8.34a7.42,7.42,0,0,0-9.61-6.19,7.4,7.4,0,0,0-5.13,5.13A7.42,7.42,0,0,0,12.37,20.9a1.49,1.49,0,0,0,2.1-.45,1.5,1.5,0,0,0-.45-2.1,4.43,4.43,0,0,1-3-5.49,4.42,4.42,0,0,1,5.49-3,4.43,4.43,0,0,1,3,5.49,1.5,1.5,0,0,0,.45,2.1,1.49,1.49,0,0,0,2.1-.45A7.42,7.42,0,0,0,20.92,8.34Z"/>
                    </svg>
                    Nooksii
                </h1>
            </a>
            
            <div class="header-right-group">
                <!-- Mobile Menu Button (Unscrolled) -->
                <button id="mobile-menu-button" class="mobile-menu-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </button>

                <!-- Desktop Nav -->
                <div class="desktop-nav-container">
                    <nav class="desktop-nav">
                        <a href="#features" class="nav-link">Features</a>
                        <a href="roadmap.html" class="nav-link">Whats Next?</a>
                        <a href="#how-it-works" class="nav-link">Our Method</a>
                        <a href="#faq" class="nav-link">FAQ</a>
                    </nav>
                    <a href="login.html" id="desktop-login-button" class="desktop-cta-button">Get Started</a>
                    <a href="dashboard.html" id="user-avatar-link" class="user-avatar-link hidden">
                        <img id="user-avatar-img" src="" alt="User Avatar" class="user-avatar" width="32" height="32" loading="lazy" decoding="async" />
                    </a>
                </div>

                <!-- Scrolled Mobile Dropdown -->
                <div id="scrolled-menu-container" class="scrolled-menu-container">
                    <button id="scrolled-menu-trigger" class="scrolled-menu-trigger">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                    </button>
                    <div id="scrolled-menu-panel" class="scrolled-menu-panel">
                         <a href="#features" class="nav-link">Features</a>
                         <a href="roadmap.html" class="nav-link">Whats Next?</a>
                         <a href="#how-it-works" class="nav-link">Our Method</a>
                         <a href="#faq" class="nav-link">FAQ</a>
                         <a href="login.html" id="scrolled-cta-button" class="desktop-cta-button">Get Started</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu Panel (Unscrolled) -->
    <div id="mobile-menu-overlay" class="mobile-menu-overlay"></div>
    <div id="mobile-menu" class="mobile-menu-panel">
        <a href="#features" class="mobile-menu-link">Features</a>
        <a href="roadmap.html" class="mobile-menu-link">Roadmap</a>
        <a href="#how-it-works" class="mobile-menu-link">Our Method</a>
        <a href="#faq" class="mobile-menu-link">FAQ</a>
        <a href="login.html" class="mobile-menu-button">Get Started</a>
    </div>

    <main>
        <!-- Hero Section -->
        <section class="hero-section">
            <div id="hero-canvas-container"></div> <!-- This is now the background layer -->
            <div class="hero-content-wrapper">
                <div class="hero-signboard">
                    <h2 class="hero-headline">
                        Your Campus Balance,
                        <span class="highlight-text">Served With Style.</span>
                    </h2>
                    <p class="sub-heading">
                        Pull up a chair at your new financial hub. Manage funds, track meals, and keep the semester cozy.
                    </p>
                    <a href="login.html" id="hero-cta-button" class="hero-button">
                        Open Your Nook
                        <span class="leaf-icon">🌿</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- Wall of Fame Section -->
        <section id="wall-of-fame" class="wall-of-fame-section">
            <div class="container">
                <div class="wall-of-fame-card">
                    <h3 class="wall-of-fame-title">Top of the Grind</h3>
                    <div id="wall-of-fame-list" class="wall-of-fame-list">
                        <!-- Top players will be injected here by JS -->
                        <p class="loading-text">Loading our top grinders...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Your Nook's Toolkit</h2>
                    <p class="section-subtitle">Essential tools to keep your campus life cozy and organized.</p>
                </div>

                <div class="features-grid">
                    <!-- Feature Card 1 -->
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg>
                        </div>
                        <h3 class="feature-title">Bell Counter</h3>
                        <p class="feature-description">Keep an eye on your Campus Credits, Dining Dollars, and Meal Swipes. Never run low on bells again.</p>
                    </div>
                    <!-- Feature Card 2 -->
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"></polygon><line x1="9" y1="3" x2="9" y2="18"></line><line x1="15" y1="6" x2="15" y2="21"></line></svg>
                        </div>
                        <h3 class="feature-title">Town Map</h3>
                        <p class="feature-description">Discover all the spots on and off-campus that accept your funds. Your next adventure awaits!</p>
                    </div>
                    <!-- Feature Card 3 -->
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"></path></svg>
                        </div>
                        <h3 class="feature-title">Window View</h3>
                        <p class="feature-description">Check the campus forecast before you head out. No surprise rain showers on our watch.</p>
                    </div>
                    <!-- Feature Card 4 -->
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                        </div>
                        <h3 class="feature-title">Nook's Finds</h3>
                        <p class="feature-description">We scout out the best deals at local shops so you can save your bells for what matters.</p>
                    </div>
                    <!-- Feature Card 5 -->
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 6v6l4 2"></path><circle cx="12" cy="12" r="10"></circle><path d="M16 16l1.5 1.5"></path></svg>
                        </div>
                        <h3 class="feature-title">Future Forecast</h3>
                        <p class="feature-description">See where your balance is headed. Our projections help you plan ahead and stay on track for the semester.</p>
                    </div>
                    <!-- Feature Card 6 -->
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 15h16"></path><path d="M16 15v1a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1"></path><path d="M12 12V3"></path></svg>
                        </div>
                        <h3 class="feature-title">Leaderboard</h3>
                        <p class="feature-description">Log your purchases daily to build your streak and climb the ranks. See how you stack up against others!</p>
                    </div>
                     <!-- Feature Card 7 --> 
                     <div class="feature-card"> 
                         <div class="feature-icon-wrapper"> 
                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 15h16"></path><path d="M16 15v1a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1"></path><path d="M12 12V3"></path></svg> 
                         </div> 
                         <h3 class="feature-title">Dynamic Widgets</h3> 
                         <p class="feature-description">Frequent purchases become dynamic widgets making it easier to log purchases</p> 
                     </div> 
                     <!-- Feature Card 8 --> 
                     <div class="feature-card"> 
                         <div class="feature-icon-wrapper"> 
                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 15h16"></path><path d="M16 15v1a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1"></path><path d="M12 12V3"></path></svg> 
                         </div> 
                         <h3 class="feature-title">Custom Stores!</h3> 
                         <p class="feature-description">Is there a location we don't have yet? Then you can add it yourself with custom stores!</p> 
                     </div>
                </div>
            </div>
        </section>
        
        <!-- How It Works Section -->
        <section id="how-it-works" class="how-it-works-section">
            <div class="container">
                <div class="cafe-sign-board">
                    <div class="section-header">
                        <h2 class="section-title">Log It, Don't Lose It.</h2>
                        <p class="section-subtitle">Four steps to keep your habits clean and your balance clear</p>
                    </div>
                    <div class="steps-container">
                        <!-- Step 1 -->
                        <div class="step-item fade-in-element">
                            <div class="step-text-content">
                                <span class="step-number">01</span>
                                <h3 class="step-title">Make It Yours!</h3>
                                <p class="step-description">Pick your school year, drop your balance in, and we'll make a cozy little space just for you :)</p>
                            </div>
                            <div class="step-visual">
                                <video class="step-video" src="SB.mp4" muted loop playsinline preload="none"></video>
                            </div>
                        </div>
                        <!-- Step 2 -->
                        <div class="step-item fade-in-element">
                            <div class="step-text-content">
                                <span class="step-number">02</span>
                                <h3 class="step-title">Add Your lil Buys</h3>
                                <p class="step-description">Grabbed a coffee? hit the '+', find your treat, and boom it's logged. Quick and Comfy!</p>
                            </div>
                            <div class="step-visual">
                                <video class="step-video" src="UB.mp4" muted loop playsinline preload="none"></video>
                            </div>
                        </div>
                        <!-- Step 3 -->
                        <div class="step-item fade-in-element">
                            <div class="step-text-content">
                                <span class="step-number">03</span>
                                <h3 class="step-title">Set & Forget</h3>
                                <p class="step-description">Lock in your weekly go-to's with a subscription. Just tap, confirm, and we'll handle the rest.</p>
                            </div>
                             <div class="step-visual">
                                <video class="step-video" src="Sub.mp4" muted loop playsinline preload="none"></video>
                            </div>
                        </div>
                        <!-- Step 4 -->
                        <div class="step-item fade-in-element">
                            <div class="step-text-content">
                                <span class="step-number">04</span>
                                <h3 class="step-title">See Your Semester Story</h3>
                                <p class="step-description">Watch your balance journey unfold, and get a heads up on when funds might start to dip!</p>
                            </div>
                             <div class="step-visual">
                                <video class="step-video" src="CR.mp4" muted loop playsinline preload="none"></video>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="faq-section">
            <div class="container">
                <div class="faq-board">
                    <div class="section-header">
                        <h2 class="section-title">Office Hours, but Cuter.</h2>
                        <p class="section-subtitle">Common questions, answered with zero judgment. Ask away if yours isn't here.</p>
                    </div>
                    <div class="faq-list">

                        <!-- FAQ Item 1 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>What exactly is Nooksii?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">Nooksii is your cozy little corner for managing campus funds. You can track your meal swipes, dining dollars, and other credits so you always know where your money is going. Our goal is to make student life less stressful and more organized while keeping things comfy. 🌿</p>
                            </div>
                        </div>

                        <!-- FAQ Item 2 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Is Nooksii free?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">Yep, free forever :3. Nooksii exists to help students stay on top of their money without adding extra costs. No subscriptions, no paywalls, just tools that make campus life easier. Hosting costs me a bit, but it's worth it 💛.</p>
                            </div>
                        </div>

                        <!-- NEW FAQ Item: Do I need an account? -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Do I need to make an account?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">Yep, but it's quick and painless. We just ask for your email and a username so your balance actually saves. No spam, no random marketing blasts — just your own cozy little hub for tracking funds.</p>
                            </div>
                        </div>

                        <!-- FAQ Item 3 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>How do I add my expenses?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">It's super simple. Tap the big "+" button in your dashboard, pick what you bought from the list of local spots, and it will instantly deduct from your balance. You can also set up recurring items like your daily coffee so it logs automatically.</p>
                            </div>
                        </div>

                        <!-- NEW FAQ Item: Will my balance update automatically? -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Will my balance update automatically?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">Right now, you log purchases yourself so you're fully in control. We're exploring safe, privacy-friendly ways to automate some of this in the future without sacrificing your data security.</p>
                            </div>
                        </div>

                        <!-- NEW FAQ Item: Does Nooksii work at every school? -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Does Nooksii work at every school?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">We've got a bunch of schools covered already, but not all of them just yet. If your campus isn't listed, you can still set up a custom account and even add your own stores so everything works like normal.</p>
                            </div>
                        </div>

                        <!-- FAQ Item 4 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>What's "The Daily Grind"?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">It's our fun leaderboard. Log your purchases daily to build a streak and climb the ranks. It's a little extra motivation to stay consistent with your spending habits and it feels great seeing your name on the board.</p>
                            </div>
                        </div>

                        <!-- FAQ Item 5 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>What class year are you?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">I graduated from Denison University in the Class of 2025 with a Computer Science major.</p>
                            </div>
                        </div>

                        <!-- FAQ Item 6 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Why did you make Nooksii?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">When I was in college, tracking campus funds was a pain. I had to dig through random apps or even check YikYak to see which spots took dining dollars. I made Nooksii to make that process easier for myself and for other students who want a simpler way to keep track. 😅</p>
                            </div>
                        </div>

                        <!-- FAQ Item 7 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>Are you collecting my data?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">We only save the essentials: your email, username, and what you log. That's it.  
                                We are not selling your info, tracking you across the internet, or judging your snack choices 😅.  
                                You can delete your account anytime right from your dashboard without contacting anyone. If you ever want proof it's gone, I'll gladly send it.  
                                Nooksii is built by students for students, so your privacy is safe here 💛.</p>
                            </div>
                        </div>

                        <!-- FAQ Item 8 -->
                        <div class="faq-item">
                            <button class="faq-question">
                                <span>How do I delete my account?</span>
                                <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>
                            </button>
                            <div class="faq-answer">
                                <p class="faq-answer-content">Easy. Head to your dashboard click on your profile icon and hit the delete button — no awkward emails, no questions asked. If you ever want proof that your account's fully gone, just reach out and I'll send it over.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>Built by students, for students.</p>
        <p class="footer-subtext">Let's get this bread 🍞</p>
    </footer>

    <!-- Back to Top Button -->
    <div id="back-to-top-wrapper" class="back-to-top-wrapper">
        <a href="#" id="back-to-top" class="back-to-top-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
        </a>
    </div>

    <!-- Critical inline script for immediate execution -->
    <script>
        // Prevent FOUC (Flash of Unstyled Content)
        document.documentElement.className = 'js';
        
        // Set up performance monitoring
        if ('PerformanceObserver' in window) {
            // Monitor long tasks
            try {
                let longTaskLogs = 0;
                const MAX_LOGS = 5;
                const THRESHOLD = 100; // Only log tasks over 100ms
                const observer = new PerformanceObserver((list) => {
                    if (longTaskLogs >= MAX_LOGS) return;
                    for (const entry of list.getEntries()) {
                        if (entry.duration > THRESHOLD) {
                            console.warn('Long task detected:', Math.round(entry.duration) + 'ms');
                            longTaskLogs++;
                            if (longTaskLogs >= MAX_LOGS) break;
                        }
                    }
                });
                observer.observe({entryTypes: ['longtask']});
            } catch(e) {}
        }
    </script>

    <!-- Main scripts with defer for non-blocking load -->
    <script type="module" src="script.js"></script>
    <!-- DO NOT load auth.js directly - it will be imported by script.js when needed -->
    
    <!-- Lazy load Three.js only when needed -->
    <script type="module">
        // Only load the 3D background on capable devices and when hero is visible
        const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        const saveData = navigator.connection && navigator.connection.saveData;
        const lowCore = navigator.hardwareConcurrency && navigator.hardwareConcurrency < 4;
        const smallScreen = Math.min(window.innerWidth, window.innerHeight) < 480;
        const capable = !reducedMotion && !saveData && !lowCore && !smallScreen;

        function loadThreeJS() {
            if (typeof THREE !== 'undefined') {
                setupHeroScene();
                return;
            }
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
            script.onload = setupHeroScene;
            document.head.appendChild(script);
        }

        function setupHeroScene() {
            const container = document.getElementById('hero-canvas-container');
            if (!container) return;

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / Math.max(container.clientHeight, 1), 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });

            // Lower pixel ratio on low-tier devices
            const maxDPR = lowCore || smallScreen ? 1 : 1.5;
            renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, maxDPR));
            renderer.setSize(container.clientWidth, Math.max(container.clientHeight, 1));
            container.appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0xfff0e0, 0.6);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffeadd, 0.6);
            directionalLight.position.set(5, 10, 7.5);
            scene.add(directionalLight);

            // Particle budget scaled by cores
            const cores = navigator.hardwareConcurrency || 4;
            const particleCount = Math.max(20, Math.min(40, Math.floor(cores * 10)));
            const sparkles = [];
            const sparkleGeometry = new THREE.SphereGeometry(0.03, 8, 8);
            const sparkleMaterial = new THREE.MeshBasicMaterial({ color: 0xffe45c, transparent: true, opacity: 0.8 });
            for (let i = 0; i < particleCount; i++) {
                const s = new THREE.Mesh(sparkleGeometry, sparkleMaterial);
                s.position.set((Math.random() - 0.5) * 8, (Math.random() - 0.5) * 6, (Math.random() - 0.5) * 4);
                s.userData.velocity = new THREE.Vector3((Math.random() - 0.5) * 0.004, (Math.random() - 0.5) * 0.004, 0);
                scene.add(s);
                sparkles.push(s);
            }

            camera.position.z = 5;

            let mouseX = 0, mouseY = 0;
            let rafGate = null;
            document.addEventListener('mousemove', (event) => {
                if (rafGate) return;
                rafGate = requestAnimationFrame(() => {
                    mouseX = (event.clientX / window.innerWidth) * 2 - 1;
                    mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
                    rafGate = null;
                });
            }, { passive: true });

            let frame = 0; // simple frame skipper
            function animate() {
                requestAnimationFrame(animate);
                frame++;
                if (frame % (lowCore ? 3 : 2) === 0) {
                    sparkles.forEach(s => {
                        s.position.add(s.userData.velocity);
                        s.material.opacity = Math.sin(Date.now() * 0.001 + s.position.x) * 0.4 + 0.6;
                        if (Math.abs(s.position.x) > 4 || Math.abs(s.position.y) > 3) {
                            s.position.set((Math.random() - 0.5) * 8, (Math.random() - 0.5) * 6, (Math.random() - 0.5) * 4);
                        }
                    });
                    camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.05;
                    camera.position.y += (mouseY * 0.5 - camera.position.y) * 0.05;
                    camera.lookAt(scene.position);
                }
                renderer.render(scene, camera);
            }

            let resizeTimer = null;
            window.addEventListener('resize', () => {
                if (resizeTimer) clearTimeout(resizeTimer);
                resizeTimer = setTimeout(() => {
                    if (container.clientWidth > 0 && container.clientHeight > 0) {
                        camera.aspect = container.clientWidth / container.clientHeight;
                        camera.updateProjectionMatrix();
                        renderer.setSize(container.clientWidth, container.clientHeight);
                    }
                }, 250);
            }, { passive: true });

            animate();
        }

        const heroContainer = document.getElementById('hero-canvas-container');
        if (capable && heroContainer && 'IntersectionObserver' in window) {
            const io = new IntersectionObserver((entries) => {
                const e = entries[0];
                if (e.isIntersecting) {
                    io.disconnect();
                    loadThreeJS();
                }
            }, { root: null, rootMargin: '0px', threshold: 0.2 });
            io.observe(heroContainer);
        }
        // Fallback: if not capable, or IO missing, do nothing to save resources
    </script>
    
    <!-- Page-specific Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Optimized FAQ Accordion Logic
            const faqItems = document.querySelectorAll('.faq-item');
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');
                const icon = question.querySelector('.faq-icon');

                question.addEventListener('click', () => {
                    const isOpen = item.classList.contains('is-open');

                    // Close other open items on desktop only
                    if (!isMobile) {
                        faqItems.forEach(otherItem => {
                            if (otherItem !== item) {
                                otherItem.classList.remove('is-open');
                                const otherIcon = otherItem.querySelector('.faq-icon');
                                otherIcon.innerHTML = '<path d="M12 5v14m-7-7h14"/>'; // Plus icon
                            }
                        });
                    }

                    // Toggle the clicked item
                    if (isOpen) {
                        item.classList.remove('is-open');
                        icon.innerHTML = '<path d="M12 5v14m-7-7h14"/>'; // Plus icon
                    } else {
                        item.classList.add('is-open');
                        icon.innerHTML = '<path d="M5 12h14"/>'; // Minus icon
                    }
                });
            });
        });
    </script>
    
    <!-- Optional: Service Worker for offline and caching -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
                if (isLocal) return; // avoid noisy 404s in local dev
                fetch('/sw.js', { method: 'HEAD' })
                  .then((res) => { if (res.ok) return navigator.serviceWorker.register('/sw.js'); })
                  .catch(() => {});
            });
        }
    </script>

</body>
</html>